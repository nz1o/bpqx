# The following key/text combinations are reserved: A/About, B/Back, H/Help, X/Exit

name: RPBOOK  # Single word name of the BPQX extension that will be used to call the extension from BPQX
description: 'Query an offline copy of RepeaterBook.com data for ME, NH, and MA' # Description of the extension
about: >- # Main 'About' information for the extension.  This should describe the overall function/purpose of the extension
  This is an emergency backup in case the site is unavailable, not a replacement.

  All data belongs to RepeaterBook.com

  2026 - John Moran (NZ1O)
help: >- # Main 'Help' information for the extension that will be displayed when the user calls Help from the root of the extension
  Search an offline copy of RepeaterBook.com data by properties and location 
program:  # Start of the extension's program
    start_msg: ''  # Initial message that will be displayed to the user on startup 
    # Menu items consist of a prompt that will be displayed to the user and a list of menu options available for the user to choose from
    # Each menu must contain:
    #     - prompt: string     # Prompt that will be displayed to the user when the menu is accessed
    #     - One or more menu items with the following values:
    #         - id: int        # Order in which the item will appear in the menu (Required)
    #         - key: char      # Single key shortcut for the menu item.  Ex: "S".  Note, "A", "B", "H", and "X" are reserved (Optional)
    #         - text: string   # Single word string for the menu item  Note, "About", "Back", "Help", and "Exit" are reserved (Required)
    #         - help: string   # Help text for the specific menu item (Required)
    #         - io: <or> menu: # Each menu item must have one of, but not both of, io: or menu:
    #             menu: 
    #               <sub menu in the same menu format>
    #             io:                   
    #               prompts:               # List of prompts to be displayed to the user (Required if inputs are specified)
    #                 - prompt: string     # Prompt that will be displayed to the user to input data 
    #                   inputs:            # List of inputs that are expected (Optional)
    #                     - id: int        # Order the input will be entered, starting with 1 (Required if inputs are specified)
    #                       type: string   # Type of input expected.  Ex: "string", "int", "bool" (Required if inputs are specified)
    #                       required: bool # Is the input required?
    #                       name: string   # Name of the input parameter (Optional)
    #               help: string           # Help text for the specific menu item
    #               command: string        # Command to be executed.  To pass input parameters use {id} or {name} placeholders.
    #                                      # Ex: "ls -al {1}" or "wget -O {filename} {url}"
    #
    # Important!  Each branch of the menu tree must end with an "io" statement, resulting in a command being run

    menu:
      prompt: Select search type
      items:
        - id: 1
          key: S
          text: Search
          help: Search repeaters by location and properties
          menu:
            prompt: Select search type
            items:
              - id: 2
                key: L
                text: LATLONG
                help: Search by Lat/Long location
                io:
                  prompts:
                    - prompt: Lat
                      inputs:
                        - id: 1
                          type: string
                          required: true
                          name: _lat
                    - prompt: Long
                      inputs:
                        - id: 1
                          type: string
                          required: true
                          name: _long
                    - prompt: Mile Radius (default 25)
                      inputs:
                        - id: 1
                          type: string
                          required: false
                          name: _radius
                    - prompt: Band (2m, 70cm, etc)
                      inputs:
                        - id: 1
                          type: string
                          required: false
                          name: _band
                    - prompt: Mode (fm, fusion, etc.)
                      inputs:
                        - id: 1
                          type: string
                          required: false
                          name: _mode
                    - prompt: Limit (default 50)
                      inputs:
                        - id: 1
                          type: string
                          required: false
                          name: _limit
                  command: 'curl http://localhost:8011/api/nearbyastext?lat={_lat}&lng={_long}&radius_miles={_radius}&band={_band}&mode={_mode}&limit={_limit}'
                  help: Enter the lat/long, and any other search parameters.  Leave any param blank to match all.
              - id: 1
                key: G
                text: GRID
                help: Search by 4 char grid square
                io:
                  prompts:
                    - prompt: 4 Char Grid
                      inputs:
                        - id: 1
                          type: string
                          required: true
                          name: _grid
                    - prompt: Mile Radius (default 25)
                      inputs:
                        - id: 1
                          type: string
                          required: false
                          name: _radius
                    - prompt: Band (2m, 70cm, etc)
                      inputs:
                        - id: 1
                          type: string
                          required: false
                          name: _band
                    - prompt: Mode (fm, fusion, etc.)
                      inputs:
                        - id: 1
                          type: string
                          required: false
                          name: _mode
                    - prompt: Limit (default 50)
                      inputs:
                        - id: 1
                          type: string
                          required: false
                          name: _limit
                  command: 'curl http://localhost:8011/api/nearbyastext?grid=FN43&&radius_miles={_radius}&band={_band}&mode={_mode}&limit={_limit}'
                  help: Enter the 4 char grid square, and any other search parameters.  Leave any param blank to match all.
        - id: 2
          key: V
          text: Version
          help: Get date of the most recent data pull
          io:
            - command: 'curl http://localhost:8011/api/versionastext'
              help: Get date of the most recent data pull

version: 0.1.0
