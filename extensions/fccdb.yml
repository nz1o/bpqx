# The following key/text combinations are reserved: A/About, B/Back, H/Help, X/Exit

name: FCCDB  # Single word name of the BPQX extension that will be used to call the extension from BPQX
description: 'Query an offline copy of the FCC amateur radio license database' # Description of the extension
about: >- # Main 'About' information for the extension.  This should describe the overall function/purpose of the extension
  This is an offline version of the FCC amateur radio license database.  Data is pulled weekly and is available completely offline

  2026 - John Moran (NZ1O)
help: >- # Main 'Help' information for the extension that will be displayed when the user calls Help from the root of the extension
  Search the FCC DB by call sign and get license history by FRN and USI
program:  # Start of the extension's program
    start_msg: ''  # Initial message that will be displayed to the user on startup 
    # Menu items consist of a prompt that will be displayed to the user and a list of menu options available for the user to choose from
    # Each menu must contain:
    #     - prompt: string     # Prompt that will be displayed to the user when the menu is accessed
    #     - One or more menu items with the following values:
    #         - id: int        # Order in which the item will appear in the menu (Required)
    #         - key: char      # Single key shortcut for the menu item.  Ex: "S".  Note, "A", "B", "H", and "X" are reserved (Optional)
    #         - text: string   # Single word string for the menu item  Note, "About", "Back", "Help", and "Exit" are reserved (Required)
    #         - help: string   # Help text for the specific menu item (Required)
    #         - io: <or> menu: # Each menu item must have one of, but not both of, io: or menu:
    #             menu: 
    #               <sub menu in the same menu format>
    #             io:                   
    #               prompts:               # List of prompts to be displayed to the user (Required if inputs are specified)
    #                 - prompt: string     # Prompt that will be displayed to the user to input data 
    #                   inputs:            # List of inputs that are expected (Optional)
    #                     - id: int        # Order the input will be entered, starting with 1 (Required if inputs are specified)
    #                       type: string   # Type of input expected.  Ex: "string", "int", "bool" (Required if inputs are specified)
    #                       required: bool # Is the input required?
    #                       name: string   # Name of the input parameter (Optional)
    #               help: string           # Help text for the specific menu item
    #               command: string        # Command to be executed.  To pass input parameters use {id} or {name} placeholders.
    #                                      # Ex: "ls -al {1}" or "wget -O {filename} {url}"
    #
    # Important!  Each branch of the menu tree must end with an "io" statement, resulting in a command being run

    menu:
      prompt: Select search type
      items:
        - id: 1
          key: C
          text: Call
          help: Search by call sign
          io:
            prompts:
              - prompt: 'Enter a call sign'
                inputs:
                  - id: 1
                    type: string
                    required: true
                    name: _callsign
            command: 'curl http://localhost:8010/api/query/callastext?call_sign={_callsign}'
            help: Enter a call sign to search for
        - id: 2
          key: T
          text: History
          help: Search history by USI or FRN
          menu:
            prompt: Select search type
            items:
              - id: 1
                key: F
                text: FRN
                help: Get history by FRN number
                io:
                  prompts:
                    - prompt: Enter FRN number
                      inputs:
                        - id: 1
                          type: string
                          required: true
                          name: _frn
                  command: 'curl http://localhost:8010/api/query/historyastext/frn?frn={_frn}'
                  help: Enter USI number for USI history
              - id: 2
                key: U
                text: USI
                help: Get history by USI number
                io:
                  prompts:
                    - prompt: Enter USI number
                      inputs:
                        - id: 1
                          type: string
                          required: true
                          name: _usi
                  command: 'curl http://localhost:8010/api/query/historyastext/usi?usi={_usi}'
                  help: Enter USI number for USI history
        - id: 3
          key: V
          text: Version
          help: Get date of the most recent data pull
          io:
            - command: 'curl http://localhost:8010/api/versionastext'
              help: Get date of the most recent data pull

version: 0.1.0
